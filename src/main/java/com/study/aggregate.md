### 애그리거트

- 하나의 애그리거트란 무엇일까 ?

모델이 어떻게 엮여있는지 알아야, 확장하고 변경하는 것이 쉬워진다.

모델 파악을 용이하게 하기 위해선, 높은 상위 수준에서 모델을 전체적으로 볼 수 있는 방법이 필요하다.

애그리거트를 묶음으로서 모델간의 관계를 표현하고 파악할 수 있으며, 개발하는 동안에도 일관성을 부여해줄 수 있다.

---

- 하나의 애그리거트, 하나의 엔티티

하나의 애그리거트 안에는 하나의 Entity가 존재한다고 생각하게 되었다.

주문 애그리거트는 Order 라는 하나의 엔티티가 가지게 된다.

주문 애그리거트내에서 Order를 변경할 수 있는건 Order 일 뿐, Orderer, Member 가 변경되지도 않고, 변경 할 수도 없어야 한다.

마찬가지로 다른 애그리거트에서 Order를 변경하는 일이 있어서는 안된다.

---

- 애그리거트 루트

주문 애그리거트 에서는 주문뿐만아니라, 주문 Order 의 주문 상태, 결제 확인, 주문 총 금액, 판매자 정보, 구매자 정보 등과 같이 담당하는 정보가 많다.

따라서 이러한 정보들을 일관성을 꺠지지 않게하는 것이 중요하다.

이를 관리할 애그리거트의 주체가 필요하다.

그것이 해당 애그리거트의 Entity가 담당하게 되며,

그것을 애그리거트 루트 역할을 한다고 표현한다.

애그리거트 루트 Entity는 해당 애그리거트의 제공할 도메인 기능을 규칙에 맞게 메소드를 구현 및 제공한다.

---

- 참조
